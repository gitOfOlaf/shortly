{"mappings":"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","sources":["node_modules/@swc/helpers/src/_class_extract_field_descriptor.mjs","node_modules/@swc/helpers/src/_class_apply_descriptor_get.mjs","node_modules/@swc/helpers/src/_class_private_field_get.mjs","node_modules/@swc/helpers/src/_check_private_redeclaration.mjs","node_modules/@swc/helpers/src/_class_private_field_init.mjs","node_modules/@swc/helpers/src/_class_apply_descriptor_update.mjs","node_modules/@swc/helpers/src/_class_private_field_update.mjs","src/app/script.js"],"sourcesContent":["export default function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\n","export default function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorGet from './_class_apply_descriptor_get.mjs';\n\nexport default function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\n","export default function _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateFieldInit(obj, privateMap, value) {\n  _checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}\n","export default function _classApplyDescriptorUpdate(receiver, descriptor) {\n    if (descriptor.set) {\n        if (!descriptor.get) {\n            throw new TypeError(\"attempted to read set only private field\");\n        }\n        if (!(\"__destrWrapper\" in descriptor)) {\n            descriptor.__destrWrapper = {\n                set value(v) {\n                    descriptor.set.call(receiver, v);\n                },\n                get value() {\n                    return descriptor.get.call(receiver);\n                },\n            };\n        }\n        return descriptor.__destrWrapper;\n    } else {\n        if (!descriptor.writable) {\n            // This should only throw in strict mode, but class bodies are\n            // always strict and private fields can only be used inside\n            // class bodies.\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        return descriptor;\n    }\n}\n","import classExtractFieldDescriptor from \"./_class_extract_field_descriptor.mjs\";\nimport classApplyDescriptorUpdate from \"./_class_apply_descriptor_update.mjs\";\n\nexport default function _classPrivateFieldUpdate(receiver, privateMap) {\n    var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"update\");\n    return classApplyDescriptorUpdate(receiver, descriptor);\n}\n","class Generator {\r\n  #taskInfo = JSON.parse(localStorage.getItem(\"URLs\")) || [];\r\n  #index = 0;\r\n  constructor() {\r\n    this.burger = document.querySelector(\".burger\");\r\n    this.form = document.querySelector(\"form\");\r\n    this.mobileMenu = document.querySelector(\".mobile-menu\");\r\n    this.input = document.querySelector(\"input\");\r\n    this.errorMsg = document.querySelector(\".errorMsg\");\r\n    this.generatedLinksContainer = document.querySelector(\".generated--links\");\r\n    this.mainContainer = document.querySelector(\".links--generator\");\r\n    this.validDomainTest =\r\n      /^(?:(?:https?|ftp):\\/\\/)?(?:www\\.)?[a-z0-9-]+(?:\\.[a-z]+){1,}(?:\\/[^?#]*)?(?:\\?[^#]*)?(?:#.*)?$/i;\r\n\r\n    this.burger.addEventListener(\"click\", this._toggleMenuBar.bind(this));\r\n    this.form.addEventListener(\"submit\", this._submitForm.bind(this));\r\n    this.mainContainer.addEventListener(\r\n      \"click\",\r\n      this._copyToClipboard.bind(this)\r\n    );\r\n    this._renderGeneratedLink();\r\n  }\r\n\r\n  _toggleMenuBar() {\r\n    this.burger.classList.toggle(\"toggle\");\r\n    this.mobileMenu.classList.toggle(\"translate-x-[120%]\");\r\n  }\r\n\r\n  _inputValidator() {\r\n    return this.validDomainTest.test(this.input.value);\r\n  }\r\n\r\n  _throwError() {\r\n    this.input.style.borderColor = \"hsl(0, 87%, 67%)\";\r\n    this.input.style.borderWidth = \"2px\";\r\n    this.input.style.color = \"hsl(0, 87%, 67%)\";\r\n    this.errorMsg.classList.remove(\"hidden\");\r\n\r\n    setTimeout(() => {\r\n      this.input.style.borderColor = \"transparent\";\r\n      this.input.style.borderWidth = \"0px\";\r\n      this.input.style.color = \"black\";\r\n      this.errorMsg.classList.add(\"hidden\");\r\n    }, 5000);\r\n  }\r\n\r\n  async _fetchRequest(url) {\r\n    try {\r\n      const res = await fetch(`https://api.shrtco.de/v2/shorten?url=${url}`);\r\n      const data = await res.json();\r\n\r\n      if (!res.ok)\r\n        throw new Error(\r\n          \"something went wrong, make sure your search query is inputted correctly!\"\r\n        );\r\n\r\n      const originalURL = data.result.original_link;\r\n      const shortURL = data.result.full_short_link;\r\n\r\n      this.#index++;\r\n\r\n      let storage = {\r\n        id: this.#index,\r\n        short_URL: shortURL,\r\n        long_URL: originalURL,\r\n      };\r\n\r\n      this.#taskInfo.push(storage);\r\n      // storing items into localStorage\r\n      localStorage.setItem(\"URLs\", JSON.stringify(this.#taskInfo));\r\n\r\n      this._renderGeneratedLink();\r\n    } catch (err) {\r\n      console.log(\r\n        `Something went wrong, make sure you're connected to the internet ${err.message}`\r\n      );\r\n    }\r\n  }\r\n\r\n  _renderGeneratedLink() {\r\n    let html = \"\";\r\n    if (this.#taskInfo) {\r\n      this.#taskInfo.forEach((task) => {\r\n        html += `\r\n        <div class=\"link items-center justify-between p-5 lg:flex\" draggable=\"true\">\r\n            <p class=\"text-sm lg:text-base\">\r\n              <a href=\"${task.long_URL}\" target=_\"blank\">${task.long_URL}</a>\r\n            </p>\r\n             <div class=\"link--section--copy mt-2 flex flex-col border-t border-grayishViolet lg:mt-0 lg:flex-row lg:items-center lg:border-none\">\r\n              <p class=\"cursor-pointer py-2 text-xs text-cyan hover:underline lg:py-0 lg:pr-2 lg:text-sm\">\r\n               <a href=\"${task.short_URL}\" target=_\"blank\">${task.short_URL}</a>\r\n              </p>\r\n                <button class=\"copy w-full rounded bg-cyan px-5 py-2 text-sm text-white lg:w-auto\">Copy</button>\r\n            </div>\r\n      </div>`;\r\n      });\r\n\r\n      this.generatedLinksContainer.innerHTML = html;\r\n    }\r\n  }\r\n\r\n  _copyToClipboard(e) {\r\n    const copyBtn = e.target.closest(\".copy\");\r\n    if (!copyBtn) return;\r\n\r\n    // accessing the shortURL index / position\r\n    const link = copyBtn.previousElementSibling.textContent.trim();\r\n\r\n    // copy text to clipboard\r\n    navigator.clipboard\r\n      .writeText(link)\r\n      .then(() => {\r\n        copyBtn.textContent = \"Copied!\";\r\n        copyBtn.style.backgroundColor = \"hsl(257, 27%, 26%)\";\r\n\r\n        setTimeout(() => {\r\n          copyBtn.textContent = \"Copy\";\r\n          copyBtn.style.backgroundColor =\r\n            \"hsl(180 66% 49% / var(--tw-bg-opacity))\";\r\n        }, 1000);\r\n      })\r\n      .catch((error) => {\r\n        console.error(`Error copying text: ${error}`);\r\n      });\r\n  }\r\n\r\n  _submitForm(e) {\r\n    e.preventDefault();\r\n\r\n    if (this._inputValidator()) {\r\n      this._fetchRequest(this.input.value);\r\n      this.input.value = \"\";\r\n    } else {\r\n      this._throwError();\r\n    }\r\n  }\r\n}\r\n\r\nconst gen = new Generator();\r\n"],"names":["$99d26d6ae153323e$export$2e2bcd8739ae039","receiver","privateMap","action","has","TypeError","get","$77325facfa382e54$export$2e2bcd8739ae039","descriptor","call","value","$92121ed38d27acb0$export$2e2bcd8739ae039","$dba1998b20ced464$export$2e2bcd8739ae039","obj","privateCollection","$7efc65a322f137af$export$2e2bcd8739ae039","set","$1aa398f79271969a$export$2e2bcd8739ae039","__destrWrapper","v","writable","$473f4dc91b3d7aef$export$2e2bcd8739ae039","$f96411e1ca11d324$var$_taskInfo","WeakMap","$f96411e1ca11d324$var$_index","_toggleMenuBar","this","burger","classList","toggle","mobileMenu","_inputValidator","validDomainTest","test","input","_throwError","style","borderColor","borderWidth","color","errorMsg","remove","setTimeout","add","async","url","res","fetch","data","json","ok","Error","originalURL","result","original_link","shortURL","full_short_link","storage","id","short_URL","long_URL","push","localStorage","setItem","JSON","stringify","_renderGeneratedLink","err","console","log","message","html","forEach","task","generatedLinksContainer","innerHTML","_copyToClipboard","e","copyBtn","target","closest","link","previousElementSibling","textContent","trim","navigator","clipboard","writeText","then","backgroundColor","catch","error","_submitForm","preventDefault","_fetchRequest","constructor","parse","getItem","document","querySelector","form","mainContainer","addEventListener","bind"],"version":3,"file":"index.e8de3099.js.map"}